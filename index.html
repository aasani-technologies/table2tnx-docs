<!DOCTYPE html><html class="default"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>table2tnx</title><meta name="description" content="Documentation for table2tnx"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script async src="assets/search.js" id="search-script"></script></head><body><script>document.body.classList.add(localStorage.getItem("tsd-theme") || "os")</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">table2tnx</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><h1> table2tnx </h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><div class="tsd-panel tsd-typography">
<a href="#table2tnx" id="table2tnx" style="color: inherit; text-decoration: none;">
  <h1>Table2Tnx</h1>
</a>
<p>Table2Tnx is node library that categorise and map json format bank transactions into strongly typed json format. It unifies data from different banks formats and identify transaction details based on their headers and object key names within this bank transactions.</p>
<p>Library provides different startegies to match this transaction headers and validate it. You can also create your custom strategy and use with parser.</p>

<a href="#getting-started" id="getting-started" style="color: inherit; text-decoration: none;">
  <h2>Getting started</h2>
</a>
<pre><code class="language-ts"><span class="hl-0">import</span><span class="hl-1"> </span><span class="hl-2">*</span><span class="hl-1"> </span><span class="hl-0">as</span><span class="hl-1"> </span><span class="hl-3">fs</span><span class="hl-1"> </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-4">&#39;fs&#39;</span><span class="hl-1">;</span><br/><span class="hl-0">import</span><span class="hl-1"> </span><span class="hl-2">*</span><span class="hl-1"> </span><span class="hl-0">as</span><span class="hl-1"> </span><span class="hl-3">log4js</span><span class="hl-1"> </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-4">&#39;log4js&#39;</span><span class="hl-1">;</span><br/><span class="hl-0">import</span><span class="hl-1"> </span><span class="hl-3">PDFParser</span><span class="hl-1"> </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-4">&#39;pdf2json&#39;</span><span class="hl-1">;</span><br/><span class="hl-0">import</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-3">LatticePdfTableParser</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-3">IPdfTableParser</span><span class="hl-1">,</span><br/><span class="hl-1">} </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-4">&#39;@aasani-technologies/pdf2table&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-0">import</span><span class="hl-1"> {</span><span class="hl-3">BankStatementParserBuilder</span><span class="hl-1">} </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-4">&#39;@aasani-technologies/table2tnx&#39;</span><span class="hl-1">;</span><br/><span class="hl-0">import</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-3">BasicHeaders</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-3">BasicHeaderKeyMatchingStrategy</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-3">BasicAmountTypeHeaders</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-3">BasicSingleColumnAmountValueMatchingStrategy</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-3">BasicFloatAmountResolver</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-3">basicDateFormats</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-3">BasicLuxonDateResolver</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-3">BasicTransactionTypeMapper</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-3">AggregateTransactionValidator</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-3">AggregateTransactionSanitizer</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-3">BasicRemoveDuplicatesTransactionSanitizer</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-3">BasicRemoveBlankAmountTransactionSanitizer</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-3">BasicRemoveBlankDateTransactionSanitizer</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-3">BasicDateSequenceTransactionValidator</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-3">BasicBalanceTransactionValidator</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-3">BasicEmptyTransactionValidator</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-3">BasicSortByAmountTransactionSanitizer</span><span class="hl-1">,</span><br/><span class="hl-1">} </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-4">&#39;@aasani-technologies/table2tnx&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">//configure logger</span><br/><span class="hl-1">  </span><span class="hl-3">log4js</span><span class="hl-1">.</span><span class="hl-6">configure</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-3">appenders:</span><span class="hl-1"> {</span><span class="hl-3">console:</span><span class="hl-1"> {</span><span class="hl-3">type:</span><span class="hl-1"> </span><span class="hl-4">&#39;console&#39;</span><span class="hl-1">}},</span><br/><span class="hl-1">    </span><span class="hl-3">categories:</span><span class="hl-1"> {</span><span class="hl-3">default:</span><span class="hl-1"> {</span><span class="hl-3">appenders:</span><span class="hl-1"> [</span><span class="hl-4">&#39;console&#39;</span><span class="hl-1">], </span><span class="hl-3">level:</span><span class="hl-1"> </span><span class="hl-4">&#39;info&#39;</span><span class="hl-1">}},</span><br/><span class="hl-1">  });</span><br/><br/><span class="hl-1">  </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-7">builder</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-6">BankStatementParserBuilder</span><span class="hl-1">()</span><br/><span class="hl-1">    .</span><span class="hl-6">setKeyMatchingStrategy</span><span class="hl-1">(</span><br/><span class="hl-1">      </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-6">BasicHeaderKeyMatchingStrategy</span><span class="hl-1">(</span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-6">BasicHeaders</span><span class="hl-1">())</span><br/><span class="hl-1">    )</span><br/><span class="hl-1">    .</span><span class="hl-6">setValueMatchingStrategy</span><span class="hl-1">(</span><br/><span class="hl-1">      </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-6">BasicSingleColumnAmountValueMatchingStrategy</span><span class="hl-1">(</span><br/><span class="hl-1">        </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-6">BasicAmountTypeHeaders</span><span class="hl-1">()</span><br/><span class="hl-1">      )</span><br/><span class="hl-1">    )</span><br/><span class="hl-1">    .</span><span class="hl-6">setMapper</span><span class="hl-1">(</span><br/><span class="hl-1">      </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-6">BasicTransactionTypeMapper</span><span class="hl-1">(</span><br/><span class="hl-1">        </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-6">BasicLuxonDateResolver</span><span class="hl-1">(</span><span class="hl-3">basicDateFormats</span><span class="hl-1">),</span><br/><span class="hl-1">        </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-6">BasicFloatAmountResolver</span><span class="hl-1">()</span><br/><span class="hl-1">      )</span><br/><span class="hl-1">    )</span><br/><span class="hl-1">    .</span><span class="hl-6">setValidator</span><span class="hl-1">(</span><br/><span class="hl-1">      </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-6">AggregateTransactionValidator</span><span class="hl-1">([</span><br/><span class="hl-1">        </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-6">BasicDateSequenceTransactionValidator</span><span class="hl-1">(),</span><br/><span class="hl-1">        </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-6">BasicBalanceTransactionValidator</span><span class="hl-1">(),</span><br/><span class="hl-1">        </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-6">BasicEmptyTransactionValidator</span><span class="hl-1">(),</span><br/><span class="hl-1">      ])</span><br/><span class="hl-1">    )</span><br/><span class="hl-1">    .</span><span class="hl-6">setSanitizer</span><span class="hl-1">(</span><br/><span class="hl-1">      </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-6">AggregateTransactionSanitizer</span><span class="hl-1">([</span><br/><span class="hl-1">        </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-6">BasicRemoveDuplicatesTransactionSanitizer</span><span class="hl-1">(),</span><br/><span class="hl-1">        </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-6">BasicRemoveBlankAmountTransactionSanitizer</span><span class="hl-1">(),</span><br/><span class="hl-1">        </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-6">BasicRemoveBlankDateTransactionSanitizer</span><span class="hl-1">(),</span><br/><span class="hl-1">        </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-6">BasicSortByAmountTransactionSanitizer</span><span class="hl-1">(),</span><br/><span class="hl-1">      ])</span><br/><span class="hl-1">    )</span><br/><span class="hl-1">    .</span><span class="hl-6">setLogger</span><span class="hl-1">(</span><span class="hl-3">log4js</span><span class="hl-1">.</span><span class="hl-6">getLogger</span><span class="hl-1">(</span><span class="hl-4">&#39;bank-statement-parser&#39;</span><span class="hl-1">));</span><br/><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-7">parser</span><span class="hl-1">: </span><span class="hl-8">IPdfTableParser</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-6">LatticePdfTableParser</span><span class="hl-1">(</span><br/><span class="hl-1">        </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-6">PDFParser</span><span class="hl-1">(),</span><br/><span class="hl-1">        </span><span class="hl-3">log4js</span><span class="hl-1">.</span><span class="hl-6">getLogger</span><span class="hl-1">(</span><span class="hl-4">&#39;table-parser&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">      );</span><br/><br/><span class="hl-1">    </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-3">parser</span><span class="hl-1">.</span><span class="hl-6">loadPdf</span><span class="hl-1">(</span><span class="hl-3">pdfFilePath</span><span class="hl-1">);</span><br/><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-7">statementParser</span><span class="hl-1"> = </span><span class="hl-3">builder</span><span class="hl-1">.</span><span class="hl-6">setRows</span><span class="hl-1">(</span><span class="hl-3">parser</span><span class="hl-1">.</span><span class="hl-6">fetchRows</span><span class="hl-1">()).</span><span class="hl-6">build</span><span class="hl-1">();</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-7">validationResult</span><span class="hl-1"> = </span><span class="hl-3">statementParser</span><span class="hl-1">.</span><span class="hl-6">isValid</span><span class="hl-1">();</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-7">data</span><span class="hl-1"> = </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-6">parse</span><span class="hl-1">();</span><br/>
</code></pre>

<a href="#references" id="references" style="color: inherit; text-decoration: none;">
  <h2>References</h2>
</a>
<ul>
<li><a href="https://www.digitalocean.com/community/tutorials/typescript-new-project">https://www.digitalocean.com/community/tutorials/typescript-new-project</a></li>
<li><a href="https://github.com/modesty/pdf2json#page-object-reference">https://github.com/modesty/pdf2json#page-object-reference</a></li>
<li><a href="https://github.com/Automattic/node-canvas">https://github.com/Automattic/node-canvas</a></li>
<li><a href="https://stackoverflow.com/questions/42494394/pdf2json-page-unit-what-is-it">https://stackoverflow.com/questions/42494394/pdf2json-page-unit-what-is-it</a></li>
</ul>
</div></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class="current"><a href="modules.html">Modules</a></li><li class=" tsd-kind-module"><a href="modules/index.html">index</a></li><li class=" tsd-kind-module"><a href="modules/parser.html">parser</a></li><li class=" tsd-kind-module"><a href="modules/parser_BankStatementParser.html">parser/<wbr/>Bank<wbr/>Statement<wbr/>Parser</a></li><li class=" tsd-kind-module"><a href="modules/parser_BankStatementParserBuilder.html">parser/<wbr/>Bank<wbr/>Statement<wbr/>Parser<wbr/>Builder</a></li><li class=" tsd-kind-module"><a href="modules/parser_interfaces.html">parser/interfaces</a></li><li class=" tsd-kind-module"><a href="modules/parser_interfaces_IHeaderKey.html">parser/interfaces/IHeader<wbr/>Key</a></li><li class=" tsd-kind-module"><a href="modules/parser_interfaces_IHeaderKeyMatched.html">parser/interfaces/IHeader<wbr/>Key<wbr/>Matched</a></li><li class=" tsd-kind-module"><a href="modules/parser_interfaces_IKeyMatchingStrategy.html">parser/interfaces/IKey<wbr/>Matching<wbr/>Strategy</a></li><li class=" tsd-kind-module"><a href="modules/parser_interfaces_ITransaction.html">parser/interfaces/ITransaction</a></li><li class=" tsd-kind-module"><a href="modules/parser_interfaces_ITransactionSanitizer.html">parser/interfaces/ITransaction<wbr/>Sanitizer</a></li><li class=" tsd-kind-module"><a href="modules/parser_interfaces_ITransactionTypeMapper.html">parser/interfaces/ITransaction<wbr/>Type<wbr/>Mapper</a></li><li class=" tsd-kind-module"><a href="modules/parser_interfaces_ITransactionValidator.html">parser/interfaces/ITransaction<wbr/>Validator</a></li><li class=" tsd-kind-module"><a href="modules/parser_interfaces_IValueMatchingStrategy.html">parser/interfaces/IValue<wbr/>Matching<wbr/>Strategy</a></li><li class=" tsd-kind-module"><a href="modules/strategies_basic.html">strategies/basic</a></li><li class=" tsd-kind-module"><a href="modules/strategies_basic_BasicHeaderKeyMatchingStrategy.html">strategies/basic/<wbr/>Basic<wbr/>Header<wbr/>Key<wbr/>Matching<wbr/>Strategy</a></li><li class=" tsd-kind-module"><a href="modules/strategies_basic_BasicSingleColumnAmountValueMatchingStrategy.html">strategies/basic/<wbr/>Basic<wbr/>Single<wbr/>Column<wbr/>Amount<wbr/>Value<wbr/>Matching<wbr/>Strategy</a></li><li class=" tsd-kind-module"><a href="modules/strategies_basic_BasicTransactionSanitizer.html">strategies/basic/<wbr/>Basic<wbr/>Transaction<wbr/>Sanitizer</a></li><li class=" tsd-kind-module"><a href="modules/strategies_basic_BasicTransactionTypeMapper.html">strategies/basic/<wbr/>Basic<wbr/>Transaction<wbr/>Type<wbr/>Mapper</a></li><li class=" tsd-kind-module"><a href="modules/strategies_basic_BasicTransactionValidator.html">strategies/basic/<wbr/>Basic<wbr/>Transaction<wbr/>Validator</a></li><li class=" tsd-kind-module"><a href="modules/strategies_basic_BasicUtils.html">strategies/basic/<wbr/>Basic<wbr/>Utils</a></li><li class=" tsd-kind-module"><a href="modules/typings_pdf2json.html">typings/pdf2json</a></li><li class=" tsd-kind-module"><a href="modules/utils_io.html">utils/io</a></li><li class=" tsd-kind-module"><a href="modules/utils_string.html">utils/string</a></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-variable"><span class="tsd-kind-icon">Variable</span></li><li class="tsd-kind-function"><span class="tsd-kind-icon">Function</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-interface"><span class="tsd-kind-icon">Interface</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="assets/main.js"></script></body></html>